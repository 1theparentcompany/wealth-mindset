<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wealth & Mindset - The Complete Guide</title>
  <meta name="description"
    content="A premium guide to financial independence, self-discipline, and the psychology of success. Read chapters online for free.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Georgia&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <!-- Security: Content Security Policy -->
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://nlgdthlwmagvjvzrubif.supabase.co https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self' https://nlgdthlwmagvjvzrubif.supabase.co wss://nlgdthlwmagvjvzrubif.supabase.co https://api.ipify.org https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; media-src 'self' https://www.soundjay.com; frame-src 'self'; object-src 'none';">

  <!-- Supabase SDK -->
  <script src="js/lib/supabase-js.js" defer></script>
  <script src="js/supabase-config.js" defer></script>
  <script src="js/image-utils.js" defer></script>
  <style>
    body {
      overflow-x: hidden;
    }

    @media (max-width: 1100px) {
      .featured-books-grid {
        grid-template-columns: repeat(2, 1fr) !important;
      }
    }

    @media (max-width: 650px) {
      .featured-books-grid {
        grid-template-columns: 1fr !important;
      }
    }

    /* Premium Design Tokens */
    .premium-badge {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(251, 191, 36, 0.1);
      border: 1px solid rgba(251, 191, 36, 0.3);
      color: #fbbf24;
      font-size: 0.7rem;
      font-weight: 800;
      border-radius: 6px;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .premium-glow-hover:hover {
      box-shadow: 0 0 30px rgba(37, 99, 235, 0.3);
      border-color: rgba(37, 99, 235, 0.6) !important;
    }

    /* Music Toggle Button */
    .music-control {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(12px);
      padding: 8px 16px;
      border-radius: 40px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: #94a3b8;
      font-family: var(--font-heading);
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }

    .music-control:hover {
      border-color: var(--color-accent);
      color: #fff;
      transform: translateY(-2px);
    }

    .music-control.playing {
      color: #fff;
      border-color: #60a5fa;
      background: rgba(37, 99, 235, 0.1);
    }

    .music-control .icon {
      font-size: 1.2rem;
      width: 32px;
      height: 32px;
      background: #1e293b;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .music-control.playing .icon {
      background: #2563eb;
      animation: pulse-music 2s infinite;
    }

    @keyframes pulse-music {
      0% {
        box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4);
      }

      70% {
        box-shadow: 0 0 0 10px rgba(37, 99, 235, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(37, 99, 235, 0);
      }
    }
  </style>
</head>

<body class="home-theme">

  <header class="site-header">
    <div
      style="max-width: var(--max-width); width: 100%; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 var(--spacing-unit); box-sizing: border-box;">
      <div class="logo">
        <a href="index.html">
          <img src="assets/logo-new.png" alt="Wealth & Mindset" class="logo-img" loading="eager" decoding="sync">
          <span>Wealth & Mindset</span>
        </a>
      </div>
      <nav>
        <a href="index.html">Home</a>
        <a href="books.html">Library</a>
        <a href="about.html" class="nav-about">About</a>
        <a href="contact.html" class="nav-contact">Contact</a>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">üåô</button>
      </nav>
    </div>
  </header>
  <script src="js/script.js" defer></script>

  <audio id="bg-music" loop preload="auto">
    <source src="https://www.soundjay.com/nature/rain-07.mp3" type="audio/mpeg">
  </audio>

  <!-- Music Control Toggle -->
  <button class="music-control" id="music-toggle" onclick="toggleMusic()">
    <span class="music-status-text">Rain Ambient</span>
    <div class="icon">üåßÔ∏è</div>
  </button>

  <main class="site-main">
    <!-- Hero Section -->
    <section class="hero-section"
      style="max-width: var(--max-width); width: 100%; margin: 40px auto; position: relative; overflow: hidden; border-radius: 30px; background: radial-gradient(circle at 70% 30%, rgba(37, 99, 235, 0.15) 0%, transparent 60%);">
      <div
        style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 40px; padding: clamp(40px, 8vw, 80px) clamp(20px, 5vw, 80px);">
        <div style="flex: 1; min-width: 300px;">
          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px;">
            <span class="premium-badge animate-float">Featured Roadmap</span>
            <span style="color: #94a3b8; font-size: 0.85rem; font-weight: 600; letter-spacing: 1px;">2026 EDITION</span>
          </div>
          <h1 id="hero-title" class="premium-gradient-text"
            style="font-size: var(--font-size-h1); line-height: 0.95; margin-bottom: 20px; font-weight: 900;">Wealth
            &<br>Mindset</h1>
          <p id="hero-subtitle"
            style="font-size: var(--font-size-p); color: #94a3b8; max-width: 500px; margin-bottom: 40px; line-height: 1.6;">
            Master
            the psychology of success and build a legacy with our curated guides and high-performance strategies.</p>
          <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            <a href="books.html" class="btn-primary hover-lift glow-on-hover"
              style="background: var(--color-accent); color: #fff; padding: 16px 32px; border-radius: 14px; font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 10px; min-height: 54px;">
              <span>üìö</span> Explore Library
            </a>
            <a href="#" onclick="openDailyModal(); return false;" class="glass hover-lift"
              style="color: #fff; padding: 16px 32px; border-radius: 14px; font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 10px; border: 1px solid rgba(255,255,255,0.1); min-height: 54px;">
              <span>‚ú®</span> Daily Mindset
            </a>
          </div>
        </div>
        <div style="flex-shrink: 0; position: relative; margin: 0 auto;">
          <div class="animate-float" style="position: relative; z-index: 2;">
            <img src="assets/logo-new.png" alt="Logo"
              style="height: clamp(200px, 30vw, 320px); filter: drop-shadow(0 0 50px rgba(37, 99, 235, 0.4)); transform: rotate(-5deg);">
          </div>
          <div
            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: clamp(250px, 40vw, 400px); height: clamp(250px, 40vw, 400px); background: radial-gradient(circle, rgba(37, 99, 235, 0.2) 0%, transparent 70%); z-index: 1;">
          </div>
        </div>
      </div>
    </section>

    <!-- NEW: Image 1 Manager Layout -->
    <section style="max-width: var(--max-width); margin: 0 auto 60px; padding: 0 20px;">
      <div id="home-image-layout-1"
        style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; padding: 20px;">
        <!-- Images injected via JS -->
      </div>
    </section>

    <!-- Search Bar Section -->
    <div style="max-width: 800px; margin: 0 auto 60px;">
      <div class="glass"
        style="position: relative; border-radius: 20px; padding: 6px; display: flex; align-items: center; gap: 10px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
        <span style="padding-left: 20px; font-size: 1.2rem; opacity: 0.7;">üîç</span>
        <input type="text" placeholder="Search for books, wisdom, or strategies..."
          style="flex: 1; background: transparent; border: none; color: #fff; padding: 16px 0; font-size: 1.1rem; outline: none; font-family: var(--font-primary); font-weight: 500;">
        <button class="hover-lift"
          style="background: var(--color-accent); border: none; color: #fff; padding: 14px 28px; border-radius: 12px; font-weight: 700; margin-right: 5px; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px rgba(37, 99, 235, 0.2);">Search</button>
      </div>
    </div>

    <!-- Content Categories Tabs -->
    <div class="chapters-tabs-outer"
      style="overflow-x: auto; margin-bottom: 60px; border-bottom: 1px solid rgba(255,255,255,0.05); scrollbar-width: none;">
      <div class="chapters-tabs-container" id="home-category-tabs"
        style="display: flex; justify-content: center; gap: 10px; min-width: max-content; padding-bottom: 2px;">
        <a href="books.html?filter=book" class="chapter-tab-link">Books</a>
        <a href="books.html?filter=story" class="chapter-tab-link">Stories</a>
        <a href="books.html?filter=guide" class="chapter-tab-link">Guides</a>
        <a href="books.html?filter=laws" class="chapter-tab-link">Laws</a>
        <a href="books.html?filter=custom" class="chapter-tab-link">Custom</a>
        <a href="books.html?filter=quotes" class="chapter-tab-link">Quotes</a>
        <a href="books.html" class="chapter-tab-link browse-all hover-lift">Library</a>
        <a href="#" onclick="openDailyModal(); return false;" class="chapter-tab-link highlight-tab">
          <span style="display: flex; align-items: center; gap: 8px;">
            <span class="pulse-icon" style="width: 8px; height: 8px; background: #fbbf24; border-radius: 50%;"></span>
            Today's Insight
          </span>
        </a>
      </div>
    </div>

    <style>
      .chapters-tabs-outer::-webkit-scrollbar {
        display: none;
      }

      .chapter-tab-link {
        text-decoration: none;
        color: #94a3b8;
        padding: 15px 25px;
        display: block;
        font-weight: 700;
        font-family: var(--font-heading);
        font-size: 0.9rem;
        transition: all 0.2s;
        border-bottom: 2px solid transparent;
        margin-bottom: -1px;
        white-space: nowrap;
      }

      .chapter-tab-link:hover {
        color: #fff;
        background: rgba(255, 255, 255, 0.03);
      }

      .chapter-tab-link.browse-all {
        background: var(--color-accent);
        color: #fff;
        border-bottom: none;
      }

      .chapter-tab-link.browse-all:hover {
        background: #1a73e8;
        transform: none;
      }

      .chapter-tab-link.highlight-tab {
        color: #fbbf24;
        border-bottom-color: #fbbf24;
        background: rgba(251, 191, 36, 0.05);
      }

      .chapter-tab-link.highlight-tab:hover {
        background: rgba(251, 191, 36, 0.1);
        color: #fff;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }

        50% {
          transform: scale(1.5);
          opacity: 0.5;
        }

        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .pulse-icon {
        animation: pulse 2s infinite;
      }


      </section>< !-- Hero Carousel Removed -->< !-- Hero Carousel Navigation Placeholder --><script> // Navigation is now handled by the unified script below
      </script></section>< !-- Categories / Topics Section --><section style="margin-bottom: 80px; max-width: 1400px; margin-left: auto; margin-right: auto; width: 95%;"><div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 40px;"><div><h2 <section style="margin-bottom: 80px; max-width: var(--max-width); margin-left: auto; margin-right: auto; width: 100%; box-sizing: border-box; padding: 0 var(--spacing-unit);"><div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px; flex-wrap: wrap; gap: 20px;"><h2 style="font-size: var(--font-size-h3); margin: 0; color: #fff;">Browse Topics</h2><a href="books.html"
      style="color: var(--color-accent); font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 8px;"><span>üìÇ</span>Explore All Topics ‚Üí </a></div><div id="topics-container"

      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(250px, 30%, 400px), 1fr)); gap: 24px;">< !-- Dynamic Topics injected here --><a href="books.html?cat=mindset" class="category-card-home hover-lift glass"><span class="icon">üß†</span><div><h3>Mindset Mastery</h3><p>Rewire your brain for peak performance and wealth attraction.</p></div></a><a href="books.html?cat=success" class="category-card-home hover-lift glass"><span class="icon">üìà</span><div><h3>Success Systems</h3><p>Proven frameworks and daily habits of elite high-performers.</p></div></a><a href="books.html?cat=growth" class="category-card-home hover-lift glass"><span class="icon">üöÄ</span><div><h3>Empire Building</h3><p>Strategies for sustainable wealth and legacy creation.</p></div></a></div></section><style>.category-card-home {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
        padding: 25px;
        border-radius: 16px;
        text-decoration: none;
        color: #94a3b8;
        display: flex;
        align-items: center;
        gap: 20px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .category-card-home:hover {
        background: rgba(255, 255, 255, 0.06);
        border-color: var(--color-accent);
        transform: translateY(-5px);
        color: #fff;
      }

      .category-card-home .icon {
        font-size: 2.5rem;
        background: rgba(255, 255, 255, 0.03);
        width: 70px;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 14px;
      }

      .category-card-home h3 {
        margin: 0 0 5px;
        font-size: 1.2rem;
        color: #fff;
      }

      .category-card-home p {
        margin: 0;
        font-size: 0.9rem;
        font-weight: 400;
        font-family: var(--font-primary);
        color: #cfd8e3;
      }

      .book-card-featured {
        background: rgba(15, 23, 42, 0.4);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .book-card-featured:hover {
        transform: translateY(-12px) scale(1.02);
        border-color: rgba(37, 99, 235, 0.5);
        background: rgba(15, 23, 42, 0.7);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6), 0 0 20px rgba(37, 99, 235, 0.2);
      }

      .book-img-wrapper {
        height: 260px;
        background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      /* Subtle pattern overlay for premium feel */
      .book-img-wrapper::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 20px 20px;
        pointer-events: none;
      }

      .book-tag {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 5;
      }
    </style>

    <!-- Exclusive Premium Collection Scroll -->
    <section class="premium-collection-section">
      <div class="collection-header">
        <h2
          style="font-size: 2.5rem; margin: 0; display: flex; align-items: center; gap: 15px; color: var(--color-heading);">
          <span style="background: rgba(13, 148, 136, 0.1); padding: 12px; border-radius: 12px;">üìö</span> Exclusive
          Collection
        </h2>
        <a href="books.html"
          style="color: var(--color-accent); font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 8px;">
          <span>üìã</span> View All ‚Üí
        </a>
      </div>

      <div class="scroll-wrapper">
        <button class="scroll-nav-btn prev" id="collection-prev" aria-label="Scroll left">‚ùÆ</button>
        <button class="scroll-nav-btn next" id="collection-next" aria-label="Scroll right">‚ùØ</button>
        <div class="book-scroll-container" id="exclusive-scroll-container">
          <!-- Dynamic Content injected here -->
          <!-- Vol 5 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=al-mizan-5'">
            <img src="assets/al_mizan_cover.png" alt="Al-Mizan Volume 5" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge">CHAPTER 3 (1 - 41)</span>
              <span class="volume-badge">VOLUME 5</span>
            </div>
          </div>
          <!-- Vol 6 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=al-mizan-6'">
            <img src="assets/al_mizan_cover.png" alt="Al-Mizan Volume 6" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge">CHAPTER 3 (42 - 120)</span>
              <span class="volume-badge">VOLUME 6</span>
            </div>
          </div>
          <!-- Vol 7 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=al-mizan-7'">
            <img src="assets/al_mizan_cover.png" alt="Al-Mizan Volume 7" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge" style="background: #15803d;">CHAPTER 3 (121 - 200)</span>
              <span class="chapter-badge">CHAPTER 4 (1 - 10)</span>
              <span class="volume-badge">VOLUME 7</span>
            </div>
          </div>
          <!-- Vol 8 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=al-mizan-8'">
            <img src="assets/al_mizan_cover.png" alt="Al-Mizan Volume 8" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge">CHAPTER 4 (11 - 76)</span>
              <span class="volume-badge">VOLUME 8</span>
            </div>
          </div>
          <!-- Vol 9 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=al-mizan-9'">
            <img src="assets/al_mizan_cover.png" alt="Al-Mizan Volume 9" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge" style="background: #15803d;">CHAPTER 4 (77 - 176)</span>
              <span class="chapter-badge">CHAPTER 5 (1 - 3)</span>
              <span class="volume-badge">VOLUME 9</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const scrollContainer = document.getElementById('collection-scroll');
        const prevBtn = document.getElementById('collection-prev');
        const nextBtn = document.getElementById('collection-next');

        if (scrollContainer && prevBtn && nextBtn) {
          nextBtn.onclick = () => {
            const scrollAmount = scrollContainer.clientWidth * 0.8;
            scrollContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
          };
          prevBtn.onclick = () => {
            const scrollAmount = scrollContainer.clientWidth * 0.8;
            scrollContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
          };
        }
      });
    </script>

    <!-- Popular / Featured Books Section -->
    <section style="margin-bottom: 100px; max-width: 1400px; margin-left: auto; margin-right: auto; width: 95%;">
      <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px;">
        <div>
          <h2
            style="font-size: 2.25rem; margin: 0; display: flex; align-items: center; gap: 15px; color: #fff; font-weight: 800;">
            <span
              style="background: rgba(16, 185, 129, 0.1); padding: 14px; border-radius: 16px; font-size: 1.5rem;">üî•</span>
            Popular Picks
          </h2>
          <p style="margin: 12px 0 0; color: #94a3b8; font-size: 1.05rem;">Hand-selected titles trending in our
            community.</p>
        </div>
        <a href="books.html" class="hover-lift"
          style="color: var(--color-accent); font-weight: 700; text-decoration: none; display: flex; align-items: center; gap: 8px; background: rgba(37, 99, 235, 0.1); padding: 10px 20px; border-radius: 100px; font-size: 0.9rem;">
          View All ‚Üí
        </a>
      </div>

      <div class="section-scroll-wrapper">
        <button class="row-nav-btn prev" onclick="scrollRow('popular-scroll', -1)">‚ùÆ</button>
        <button class="row-nav-btn next" onclick="scrollRow('popular-scroll', 1)">‚ùØ</button>
        <div class="horizontal-scroll-list" id="popular-scroll">
          <!-- Book 1 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=wm-guide'">
            <img src="assets/logo-new.png" alt="Wealth & Mindset" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge">VOLUME I</span>
              <span class="volume-badge">BESTSELLER</span>
            </div>
            <div class="item-overlay"
              style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(6, 11, 25, 0.9)); color: #fff;">
              <h4 style="margin: 0; font-size: 1rem; font-weight: 700;">Wealth & Mindset: The Complete Guide</h4>
            </div>
          </div>
          <!-- Book 2 -->
          <div class="premium-book-card" onclick="window.location.href='book-detail.html?id=compounding-miracle'">
            <img src="assets/logo-new.png" alt="The Compounding Miracle"
              style="background: radial-gradient(circle at center, #1e1b4b 0%, #0f172a 100%);" loading="lazy">
            <div class="badge-container">
              <span class="chapter-badge">CHAPTER 15</span>
              <span class="volume-badge">POPULAR</span>
            </div>
            <div class="item-overlay"
              style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(6, 11, 25, 0.9)); color: #fff;">
              <h4 style="margin: 0; font-size: 1rem; font-weight: 700;">The 30-Year Compounding Miracle</h4>
            </div>
          </div>
          <!-- Book 3 -->
          <div class="premium-book-card" onclick="window.location.href='books.html'">
            <img src="assets/logo-new.png" alt="Habits"
              style="background: radial-gradient(circle at center, #312e81 0%, #1e1b4b 100%);">
            <div class="badge-container">
              <span class="chapter-badge">VOL 2</span>
              <span class="volume-badge">GROWTH</span>
            </div>
            <div class="item-overlay"
              style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(6, 11, 25, 0.9)); color: #fff;">
              <h4 style="margin: 0; font-size: 1rem; font-weight: 700;">Habits of the High-Performing</h4>
            </div>
          </div>
          <!-- Book 4 -->
          <div class="premium-book-card" onclick="window.location.href='books.html'">
            <img src="assets/logo-new.png" alt="Laws"
              style="background: radial-gradient(circle at center, #111827 0%, #020617 100%);">
            <div class="badge-container">
              <span class="chapter-badge">RULE 01</span>
              <span class="volume-badge">EDUCATION</span>
            </div>
            <div class="item-overlay"
              style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(6, 11, 25, 0.9)); color: #fff;">
              <h4 style="margin: 0; font-size: 1rem; font-weight: 700;">The 12 Laws of Wealth</h4>
            </div>
          </div>
          <!-- Book 5 -->
          <div class="premium-book-card" onclick="window.location.href='books.html'">
            <img src="assets/logo-new.png" alt="Mindset Mastery"
              style="background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);">
            <div class="badge-container">
              <span class="chapter-badge">PART 1</span>
              <span class="volume-badge">MINDSET</span>
            </div>
            <div class="item-overlay"
              style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(6, 11, 25, 0.9)); color: #fff;">
              <h4 style="margin: 0; font-size: 1rem; font-weight: 700;">Mindset Mastery</h4>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- 5Ô∏è‚É£ Why This Library? & 6Ô∏è‚É£ How It Works Section -->
    <section class="info-section-grid"
      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(280px, 45%, 600px), 1fr)); gap: clamp(30px, 5vw, 50px); margin-bottom: 80px; align-items: start; background: rgba(255,255,255,0.02); padding: clamp(24px, 5vw, 60px); border-radius: 24px; border: 1px solid rgba(255,255,255,0.05); max-width: var(--max-width); margin-left: auto; margin-right: auto; width: 100%; box-sizing: border-box;">
      <div>
        <h2 style="font-size: var(--font-size-h3); margin-bottom: 25px;">Why This Library?</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
          <div style="display: flex; align-items: center; gap: 12px;">
            <span style="color: #10b981; font-weight: 800; font-size: 1.2rem;">‚úî</span>
            <span style="font-weight: 600;">Free & legal books</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <span style="color: #10b981; font-weight: 800; font-size: 1.2rem;">‚úî</span>
            <span style="font-weight: 600;">No sign-up required</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <span style="color: #10b981; font-weight: 800; font-size: 1.2rem;">‚úî</span>
            <span style="font-weight: 600;">Wealth & Mindset focus</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <span style="color: #10b981; font-weight: 800; font-size: 1.2rem;">‚úî</span>
            <span style="font-weight: 600;">Simple reading experience</span>
          </div>
        </div>
      </div>

      <div>
        <h2 style="font-size: var(--font-size-h3); margin-bottom: 25px;">How It Works</h2>
        <div style="display: flex; flex-direction: column; gap: 20px;">
          <div style="display: flex; gap: 20px; align-items: center;">
            <span
              style="background: var(--color-accent); width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; color: #fff; font-weight: 800; flex-shrink: 0;">1</span>
            <p style="margin: 0; font-weight: 600;">Choose a category</p>
          </div>
          <div style="display: flex; gap: 20px; align-items: center;">
            <span
              style="background: var(--color-accent); width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; color: #fff; font-weight: 800; flex-shrink: 0;">2</span>
            <p style="margin: 0; font-weight: 600;">Select a book</p>
          </div>
          <div style="display: flex; gap: 20px; align-items: center;">
            <span
              style="background: var(--color-accent); width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; color: #fff; font-weight: 800; flex-shrink: 0;">3</span>
            <p style="margin: 0; font-weight: 600;">Read online or download</p>
          </div>
        </div>
      </div>
    </section>



    <!-- DYNAMIC CUSTOM SECTIONS CONTAINER -->
    <div id="dynamic-home-sections"></div>


    <!-- üí° Micro Lessons / Tips Section -->
    <section
      style="margin-bottom: 60px; padding: 40px; background: #161e2f; border-radius: 20px; border: 1px solid rgba(26, 115, 232, 0.2);">
      <h2 style="font-size: 1.8rem; color: #fff; margin-bottom: 25px; display: flex; align-items: center; gap: 10px;">
        <span style="color: #fbbf24;">üí°</span> Micro Lessons
      </h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px;">
        <div>
          <h4 id="tip-head-1"
            style="color: #fbbf24; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 0.75rem;">
            Financial Tip</h4>
          <p id="tip-content-1" style="margin: 0; font-weight: 600; color: #fff;">Pay yourself first before spending
            anything.</p>
        </div>
        <div>
          <h4 id="tip-head-2"
            style="color: #fbbf24; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 0.75rem;">
            Mindset Tip</h4>
          <p id="tip-content-2" style="margin: 0; font-weight: 600; color: #fff;">Failure is simply data for your next
            attempt.</p>
        </div>
        <div>
          <h4 id="tip-head-3"
            style="color: #fbbf24; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-size: 0.75rem;">
            Success Tip</h4>
          <p id="tip-content-3" style="margin: 0; font-weight: 600; color: #fff;">Focus on systems, not just end-point
            goals.</p>
        </div>
      </div>
    </section>



    <!-- üñºÔ∏è Gallery Marquee Section (Moving Images) -->
    <section class="gallery-marquee-outer"
      style="margin-bottom: 60px; overflow: hidden; position: relative; padding: 20px 0; background: rgba(0,0,0,0.2);">
      <div class="marquee-track" id="bottom-banner-marquee"
        style="display: flex; gap: 20px; width: max-content; animation: scrollMarquee 30s linear infinite;">
        <!-- Dynamic content will load here -->
      </div>

      <style>
        <style>.marquee-track {
          transform: translate3d(0, 0, 0);
          /* Force GPU acceleration */
          will-change: transform;
        }

        @keyframes scrollMarquee {
          0% {
            transform: translate3d(0, 0, 0);
          }

          100% {
            transform: translate3d(calc(-50% - 10px), 0, 0);
            /* Scroll half the duplicated width */
          }
        }

        .gallery-marquee-outer:hover .marquee-track {
          animation-play-state: paused;
        }
      </style>
    </section>

    <!-- 7Ô∏è‚É£ Feedback Section -->
    <section
      style="text-align: center; padding: 80px 40px; background: linear-gradient(rgba(26, 115, 232, 0.05), transparent); border-radius: 24px; margin-bottom: 60px;">
      <h2 style="font-size: 2.2rem; margin-bottom: 15px;">Have a book suggestion or feedback?</h2>
      <p style="font-size: 1.2rem; opacity: 0.7; margin-bottom: 35px;">We're always looking to expand our library with
        high-quality content.</p>
      <a href="contact.html" class="nav-btn primary"
        style="padding: 16px 40px; font-size: 1.1rem; display: inline-block;">üì© Share with us</a>
    </section>

    <!-- Main Content Area (Original content maintained below if needed) -->
    <div class="main-layout-content" style="width: 100%; max-width: 1600px; margin: 0 auto; padding: 0;">
    </div>

    </div>
    </div>
    <div id="dynamic-home-sections"></div>
  </main>

  <footer
    style="padding: clamp(40px, 8vw, 80px) var(--spacing-unit); background: #060b19; border-top: 1px solid rgba(255,255,255,0.05); text-align: center;">
    <img src="assets/logo-new.png" alt="Wealth & Mindset" class="footer-logo"
      style="height: 50px; margin-bottom: 30px; filter: grayscale(1) opacity(0.8);">
    <div class="footer-links"
      style="display: flex; justify-content: center; gap: clamp(15px, 3vw, 30px); flex-wrap: wrap; margin-bottom: 30px; font-weight: 600; font-size: 0.95rem;">
      <a href="index.html" style="color: #94a3b8; text-decoration: none; transition: var(--transition-smooth);">Home</a>
      <a href="about.html" style="color: #94a3b8; text-decoration: none; transition: var(--transition-smooth);">About
        Us</a>
      <a href="contact.html"
        style="color: #94a3b8; text-decoration: none; transition: var(--transition-smooth);">Contact Us</a>
      <a href="privacy.html"
        style="color: #94a3b8; text-decoration: none; transition: var(--transition-smooth);">Privacy Policy</a>
      <a href="terms.html" style="color: #94a3b8; text-decoration: none; transition: var(--transition-smooth);">Terms
        and Conditions</a>
    </div>
    <div style="max-width: 800px; margin: 0 auto;">
      <p class="copyright" style="color: #64748b; font-size: 0.85rem; margin-bottom: 10px;">&copy; 2026 Wealth &
        Mindset. All rights reserved.</p>
      <p class="disclaimer" style="color: #475569; font-size: 0.75rem; line-height: 1.6; font-style: italic;">
        Educational purposes only. This is not professional financial advice. Performance of past habits does not
        guarantee future results.</p>
    </div>
  </footer>

  <script src="js/script.js"></script>
  </script>

</body>

<!-- DAILY MINDSET MODAL -->
<div id="daily-modal" class="daily-modal-overlay">
  <div class="daily-modal-content">

    <!-- SIDEBAR ARCHIVE -->
    <div class="daily-sidebar">
      <div class="sidebar-header">
        <h4>Archive</h4>
        <span class="days-badge">10 Days</span>
      </div>
      <div class="archive-list" id="daily-archive-list">
        <!-- JS will populate this -->
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="daily-main-content">
      <button class="close-modal-btn" onclick="closeDailyModal()">√ó</button>

      <div class="daily-header">
        <span class="daily-badge">‚ú® Daily Inspiration</span>
        <h2 id="daily-date">December 31, 2025</h2>
      </div>

      <div class="daily-body">
        <h3 id="daily-title">The Compound Effect of Habits</h3>
        <div class="daily-text-content">
          <p id="daily-p1">Most people overestimate what they can do in a day and underestimate what they can do in a
            decade. Wealth
            isn't built in a single lucky break; it is the accumulation of small, seemingly insignificant choices made
            consistently over time.</p>
          <p id="daily-p2">Imagine a plane taking off from Los Angeles en route to New York. If the pilot adjusts the
            heading just 3.5
            degrees south, the plane will land in Washington, D.C., not New York. Such a small change is barely
            noticeable
            at takeoff...</p>
          <div id="daily-fade" class="text-fade"></div>
        </div>

        <button id="daily-read-more" class="btn-primary" style="width: 100%; margin-top: 20px;"
          onclick="expandDailyText()">Read Full Insight</button>
      </div>
    </div>
  </div>
</div>

<style>
  .daily-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(12px);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .daily-modal-overlay.active {
    display: flex;
    opacity: 1;
  }

  .daily-modal-content {
    background: linear-gradient(145deg, #0f172a, #111827);
    width: 95%;
    max-width: 900px;
    max-height: 85vh;
    border-radius: 24px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    position: relative;
    box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.7), 0 0 30px rgba(251, 191, 36, 0.1);
    transform: scale(0.95) translateY(20px);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    flex-direction: row;
    overflow: hidden;
  }

  .daily-modal-overlay.active .daily-modal-content {
    transform: scale(1) translateY(0);
  }

  .daily-sidebar {
    width: 280px;
    background: rgba(15, 23, 42, 0.6);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
  }

  .sidebar-header {
    padding: 30px 25px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .sidebar-header h4 {
    margin: 0;
    color: #64748b;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: 800;
  }

  .days-badge {
    background: rgba(37, 99, 235, 0.1);
    color: #60a5fa;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 700;
  }

  .archive-list {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .archive-list::-webkit-scrollbar {
    width: 4px;
  }

  .archive-list::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 100px;
  }

  .archive-item {
    padding: 15px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .archive-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(5px);
  }

  .archive-item.active {
    background: rgba(37, 99, 235, 0.1);
    border-color: rgba(37, 99, 235, 0.3);
  }

  .archive-date {
    color: #64748b;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .archive-title {
    color: #cbd5e1;
    font-size: 0.95rem;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .archive-item.active .archive-title {
    color: #fbbf24;
  }

  .daily-main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    position: relative;
  }

  .close-modal-btn {
    position: absolute;
    top: 25px;
    right: 25px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.05);
    color: #94a3b8;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    line-height: 1;
  }

  .close-modal-btn:hover {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border-color: rgba(239, 68, 68, 0.2);
    transform: rotate(90deg);
  }

  .daily-header {
    padding: 60px 50px 30px;
    background: radial-gradient(circle at top right, rgba(251, 191, 36, 0.05), transparent 70%),
      linear-gradient(to bottom, #1e293b, #0f172a);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .daily-badge {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(251, 191, 36, 0.05));
    border: 1px solid rgba(251, 191, 36, 0.2);
    color: #fbbf24;
    padding: 8px 16px;
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    display: inline-block;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(251, 191, 36, 0.1);
  }

  .daily-header h2 {
    margin: 0;
    font-size: 2.2rem;
    background: linear-gradient(to right, #fff, #cbd5e1);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: var(--font-heading);
    letter-spacing: -1px;
  }

  .daily-body {
    padding: 40px 50px;
    flex: 1;
  }

  .daily-body h3 {
    color: #e2e8f0;
    font-size: 1.6rem;
    margin: 0 0 25px;
    font-weight: 700;
    letter-spacing: -0.5px;
  }

  .daily-text-content {
    color: #94a3b8;
    font-size: 1.1rem;
    line-height: 1.8;
    position: relative;
    max-height: 200px;
    overflow: hidden;
    transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .daily-text-content p {
    margin-bottom: 20px;
  }

  .daily-text-content.expanded {
    max-height: 2000px;
  }

  .text-fade {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(to bottom, transparent, #0f172a);
    transition: opacity 0.4s;
    pointer-events: none;
  }

  @media (max-width: 800px) {
    .daily-modal-content {
      flex-direction: column;
      max-height: 95vh;
      width: 100%;
      height: 100%;
      border-radius: 0;
    }

    .daily-sidebar {
      width: 100%;
      height: 160px;
      border-right: none;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .archive-list {
      flex-direction: row;
      overflow-x: auto;
      overflow-y: hidden;
      padding: 15px;
    }

    .archive-item {
      min-width: 200px;
    }

    .daily-header {
      padding: 40px 25px 25px;
    }

    .daily-body {
      padding: 30px 25px;
    }

    .daily-header h2 {
      font-size: 1.8rem;
    }
  }
</style>

<script>
  function openDailyModal() {
    const modal = document.getElementById('daily-modal');
    modal.style.display = 'flex';

    // Initialize Archive if not already done
    initDailyArchive();

    // Force reflow for animation
    void modal.offsetWidth;
    modal.classList.add('active');
    document.body.style.overflow = 'hidden'; // Prevent background scrolling
  }

  function closeDailyModal() {
    const modal = document.getElementById('daily-modal');
    modal.classList.remove('active');
    setTimeout(() => {
      modal.style.display = 'none';
      document.body.style.overflow = '';
    }, 300);
  }

  function expandDailyText() {
    const content = document.querySelector('.daily-text-content');
    const fade = document.getElementById('daily-fade');
    const btn = document.getElementById('daily-read-more');

    content.classList.add('expanded');
    fade.style.opacity = '0';
    fade.style.pointerEvents = 'none';
    btn.style.display = 'none';

    // Add more text dynamically to simulate "Read More" loading content
    const p = document.createElement('p');
    p.textContent = "The impact of a slight change in habits is amazing. The same way that money multiplies through compound interest, the effects of your habits multiply as you repeat them. They seem to make little difference on any given day and yet the impact they deliver over the months and years can be enormous. It is only when looking back two, five, or perhaps ten years later that the value of good habits and the cost of bad ones becomes strikingly apparent.";
    p.style.marginTop = "15px";
    p.style.animation = "fadeIn 0.5s ease";
    content.appendChild(p);
  }

  // Placeholder fallback data - UPDATED standard
  let dailyInsights = [
    { title: "The Compound Effect", date: "Jan 02", fullDate: "January 02, 2026", p1: "Wealth is built choice by choice.", p2: "Small steps today lead to big results tomorrow." },
    { title: "Risk Management 101", date: "Jan 01", fullDate: "January 01, 2026", p1: "Don't lose money. That's rule #1.", p2: "Understand your downside before looking at the upside." },
    { title: "Stoicism in Business", date: "Dec 31", fullDate: "December 31, 2025", p1: "Control the controllable.", p2: "Focus on your effort, not just the outcome." },
    { title: "The Art of Negotiation", date: "Dec 30", fullDate: "December 30, 2025", p1: "He who cares less wins.", p2: "Always be willing to walk away from the table." },
    { title: "Avoiding Lifestyle Creep", date: "Dec 29", fullDate: "December 29, 2025", p1: "Don't upgrade your life too fast.", p2: "Keep your expenses low while your income grows." },
    { title: "Investing vs Speculating", date: "Dec 28", fullDate: "December 28, 2025", p1: "Investing is for the long term.", p2: "Speculating is gambling with extra steps." },
    { title: "The Value of Time", date: "Dec 27", fullDate: "December 27, 2025", p1: "Time is your only non-renewable asset.", p2: "Protect it more than you protect your wallet." },
    { title: "Generosity & Wealth", date: "Dec 26", fullDate: "December 26, 2025", p1: "True wealth is what you give away.", p2: "A scarcity mindset keeps you small." },
    { title: "Daily Discipline", date: "Dec 25", fullDate: "December 25, 2025", p1: "Discipline is choosing between what you want now and what you want most.", p2: "Consistency beats intensity every single time." },
    { title: "The Growth Mindset", date: "Dec 24", fullDate: "December 24, 2025", p1: "Believe you can improve.", p2: "Challenges are opportunities in disguise." }
  ];

  async function initDailyArchive() {
    const list = document.getElementById('daily-archive-list');
    if (list.children.length > 0) return; // Prevent double init

    list.innerHTML = '<div style="padding:15px; color:#888;">Updating inspiration...</div>';

    // Try to fetch from Supabase
    try {
      if (typeof supabaseClient !== 'undefined') {
        const todayStr = new Date().toISOString().split('T')[0];
        const { data, error } = await supabaseClient
          .from('daily_mindset')
          .select('*')
          .lte('date', todayStr)
          .order('date', { ascending: false })
          .limit(10);

        if (!error && data && data.length > 0) {
          // Map DB data to frontend structure
          dailyInsights = data.map(item => ({
            id: item.id,
            title: item.title,
            date: formatDateShort(item.date),
            fullDate: formatDateLong(item.date),
            inspiration_text: item.inspiration_text, // Use full text
            read_more_link: item.read_more_link,
            image_url: item.image_url
          }));
        }
      }
    } catch (e) {
      console.warn("Using offline fallback for daily mindset.");
    }

    // Clear loading
    list.innerHTML = '';

    dailyInsights.forEach((insight, index) => {
      const item = document.createElement('div');
      item.className = `archive-item ${index === 0 ? 'active' : ''}`;
      item.onclick = () => loadDailyHistory(index);
      item.innerHTML = `
        <span class="archive-date">${insight.date}</span>
        <span class="archive-title">${insight.title}</span>
      `;
      list.appendChild(item);
    });

    // Load today's by default
    loadDailyHistory(0);
  }

  function loadDailyHistory(index) {
    const insight = dailyInsights[index];
    if (!insight) return;

    // Update UI Content
    document.getElementById('daily-title').textContent = insight.title;
    document.getElementById('daily-date').textContent = insight.fullDate;

    // Handle Text Content
    // Check if we have 'inspiration_text' (DB) or 'p1/p2' (fallback)
    const textContainer = document.querySelector('.daily-text-content');

    // Clear previous dynamic paragraphs if re-rendering involves different structure
    // But since we are replacing content, standard innerHTML set is fine.

    if (insight.inspiration_text) {
      // DB Format: split paragraphs
      const paragraphs = insight.inspiration_text.split('\n').filter(line => line.trim() !== '');
      textContainer.innerHTML = paragraphs.map(p => `<p>${p}</p>`).join('') + '<div id="daily-fade" class="text-fade"></div>';
    } else {
      // Fallback Format
      textContainer.innerHTML = `
            <p id="daily-p1">${insight.p1}</p>
            <p id="daily-p2">${insight.p2}</p>
            <div id="daily-fade" class="text-fade"></div>
        `;
    }

    // Update Active Sidebar State
    const items = document.querySelectorAll('.archive-item');
    items.forEach((item, idx) => {
      if (idx === index) item.classList.add('active');
      else item.classList.remove('active');
    });

    // Reset text state
    const fade = document.getElementById('daily-fade');
    const btn = document.getElementById('daily-read-more');

    let content = document.querySelector('.daily-text-content');
    content.classList.remove('expanded');
    content.style.maxHeight = '200px';

    if (fade) {
      fade.style.opacity = '1';
      fade.style.pointerEvents = 'none';
    }

    if (btn) {
      btn.style.display = 'inline-block';
      // If we have a custom link, update button behavior or text
      if (insight.read_more_link) {
        btn.textContent = "Read Full Article";
        btn.onclick = () => window.location.href = insight.read_more_link;
      } else {
        btn.textContent = "Read Full Insight";
        btn.onclick = expandDailyText; // Restore default behavior
      }
    }
  }

  function formatDateShort(dateStr) {
    if (!dateStr) return '';
    const d = new Date(dateStr);
    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
  }

  function formatDateLong(dateStr) {
    if (!dateStr) return '';
    const d = new Date(dateStr);
    return d.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
  }


  // Close on outside click
  document.getElementById('daily-modal').addEventListener('click', (e) => {
    if (e.target.id === 'daily-modal') closeDailyModal();
  });


</script>
</body>

</html>